{"version":3,"sources":["images/start-btn.png","utils/LazyImage.js","components/MovieCard.js"],"names":["LazyImage","src","alt","className","placeHolder","useState","imageSrc","setImageSrc","imageRef","setImageRef","useEffect","observer","didCancel","IntersectionObserver","entries","forEach","entry","intersectionRatio","isIntersecting","threshold","rootMargin","observe","unobserve","ref","MovieCard","movie","runningTrailerID","useSelector","state","disptch","useDispatch","date","TrailerURLUploadDate","split","year","parseInt","month","showPlay","EventCode","onClick","Actions","RunTrailer","style","cursor","EventImageUrl","EventTitle","startBtnImage","ratings","wtsPerc","wtsCount"],"mappings":"iOAAe,G,MAAA,IAA0B,uC,qBCa1B,SAASA,EAAT,GAA6C,IAAxBC,EAAuB,EAAvBA,IAAKC,EAAkB,EAAlBA,IAAKC,EAAa,EAAbA,UAGpCC,EAAa,qHACnB,EAAgCC,mBAASD,GAAzC,mBAAOE,EAAP,KAAiBC,EAAjB,KACA,EAAgCF,qBAAhC,mBAAOG,EAAP,KAAiBC,EAAjB,KA4CA,OAxCAC,qBAAU,WACN,IAAIC,EACAC,GAAY,EA4BhB,OA1BIJ,GAAYF,IAAaF,IACrBS,sBACAF,EAAW,IAAIE,sBAAqB,SAAAC,GAChCA,EAAQC,SAAQ,SAACC,IAGZJ,IACAI,EAAMC,kBAAoB,GAAKD,EAAME,iBAEtCX,EAAYN,QAIpB,CACIkB,UAAW,IACXC,WAAY,SAGPC,QAAQb,GAIjBD,EAAYN,IAIb,WACHW,GAAY,EAERD,GAAYA,EAASW,WACrBX,EAASW,UAAUd,OAMxB,qBAAKL,UAAWA,EAAWoB,IAAKd,EAAaR,IAAKK,EAAUJ,IAAKA,IC5C7D,SAASsB,EAAT,GAA6B,IAATC,EAAQ,EAARA,MAEzBC,EAAmBC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,oBAC9CG,EAAUC,cAMVC,EAAON,EAAMO,qBAAqBC,MAAM,KACxCC,EAAOC,SAASJ,EAAK,IACrBK,EAJS,CAAC,GAAG,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,OAIhED,SAASJ,EAAK,KAI/BM,GAAYX,GAAoBA,GAAoBD,EAAMa,UAU9D,OAAQ,sBAA2BnC,UAAU,QAAQoC,QAAS,kBAAIV,EAAQW,IAAQC,WAAWhB,EAAMa,aAA3F,UACI,sBAAKnC,UAAU,cAAcuC,MAAOL,EAAU,CAACM,OAAO,WAAW,CAACA,OAAO,WAAzE,UACI,sBAAKxC,UAAU,aAAf,UACI,sBAAMA,UAAU,QAAhB,SAAyBiC,IACzB,sBAAMjC,UAAU,OAAhB,SAAwB+B,OAG5B,cAAClC,EAAD,CACIC,IAAKwB,EAAMmB,cACXzC,UAAU,QACVD,IAAKuB,EAAMoB,aAEdR,GACG,qBAAKpC,IAAK6C,EAAe5C,IAAI,OAAOC,UAAU,cAGlD,sBAAKA,UAAU,eAAf,UACI,sBAAKA,UAAU,cAAf,UACI,cAAC,IAAD,CAAWA,UAAU,iBACrB,gCAAMsB,EAAMsB,QAAQC,QAApB,UAEJ,qBAAK7C,UAAU,cAAf,SACI,sBAAKA,UAAU,aAAf,UAA6BsB,EAAMsB,QAAQE,SAA3C,oBAKZ,qBAA2B9C,UAAU,aAArC,SACKsB,EAAMoB,YADDpB,EAAMa,aA3BVb,EAAMa","file":"static/js/3.62345ab3.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/start-btn.400c37b2.png\";","/*\n    A reusable image component to enable lazyloadng over the images \n\n    Takes 3 arguments\n        src - actual image url\n        alt - alt data to be displayd\n        className - to add styles \n*/\n\n//#region \"Imports\"\nimport React, { useState, useEffect } from 'react'\n//#endregion\n\nexport default function LazyImage({ src, alt, className }) {\n\n    //#region \"Definitions\"\n    const placeHolder =\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkqAcAAIUAgUW0RjgAAAAASUVORK5CYII=\";\n    const [imageSrc, setImageSrc] = useState(placeHolder);\n    const [imageRef, setImageRef] = useState();\n    //#endregion\n    \n    //#region \"useEffect to keep watch on component if its in the view and set the actual src\"\n    useEffect(() => {\n        let observer;\n        let didCancel = false;\n\n        if (imageRef && imageSrc === placeHolder) {\n            if (IntersectionObserver) {\n                observer = new IntersectionObserver(entries => {\n                    entries.forEach((entry) => {\n                        // when image is visible in the viewport + rootMargin\n                        if (\n                        !didCancel &&\n                        (entry.intersectionRatio > 0 || entry.isIntersecting)\n                        ) {\n                        setImageSrc(src);\n                        }\n                    })\n                },\n                {\n                    threshold: 0.01,\n                    rootMargin: '75%',\n                });\n\n                observer.observe(imageRef);\n            } \n            else {\n                // Old browsers fallback\n                setImageSrc(src);\n            }\n        }\n\n        return () => {\n            didCancel = true;\n            // on component unmount, we remove the listner\n            if (observer && observer.unobserve)\n                observer.unobserve(imageRef);\n        };\n    });\n    //#endregion\n  \n    //#region \"Render\"\n    return <img className={className} ref={setImageRef} src={imageSrc} alt={alt} />;\n    //#endregion\n}","/*\n    The Movie card component called from Dashboard.\n    Takes movie object as props\n    Also dispatches action to redux store to set the running Trailer\n    on click of any Movie card\n*/\n\n//#region \"Imports\"\nimport React from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { MdThumbUp } from \"react-icons/md\";\n\nimport '../styles/MovieCard.css';\nimport startBtnImage from \"../images/start-btn.png\";\nimport Actions from \"../store/Actions\";\nimport LazyImage from \"../utils/LazyImage\";\n//#endregion\n\nexport default function MovieCard({movie}) {\n    //#region \"Definitions\"\n    const runningTrailerID = useSelector(state => state.runningTrailerID);\n    const disptch = useDispatch();\n    //#endregion\n\n    //#region \"Set the month and year to be shown on the card (top right)\"\n    const months = [\"\",\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];\n\n    const date = movie.TrailerURLUploadDate.split('-');\n    const year = parseInt(date[0]);\n    const month = months[parseInt(date[1])];\n    //#endregion\n\n    //#region \"Set a boolean field - whether to show the play icon on card (hidden when already playing)\"\n    let showPlay = (runningTrailerID && runningTrailerID == movie.EventCode) ? false : true ;\n    //#endregion\n    \n    //#region \"Render\"\n    /*\n        Render the Movie card related details on the card image\n        Render the Movie title below the image\n        Lazy load the images with blur effect\n    */\n   \n    return  <div key={movie.EventCode} className=\"movie\" onClick={()=>disptch(Actions.RunTrailer(movie.EventCode))} >\n                <div className=\"movie-image\" style={showPlay? {cursor:\"pointer\"}:{cursor:\"default\"}}>\n                    <div className=\"movie-date\">\n                        <span className=\"month\">{month}</span>\n                        <span className=\"year\">{year}</span>\n                    </div>\n\n                    <LazyImage\n                        src={movie.EventImageUrl} \n                        className=\"image\"\n                        alt={movie.EventTitle} />\n\n                    {showPlay && \n                        <img src={startBtnImage} alt=\"play\" className=\"start-btn\" />\n                    }\n\n                    <div className=\"movie-rating\">\n                        <div className=\"flex-evenly\">\n                            <MdThumbUp className=\"thumbsup-ico\"/>\n                            <div>{movie.ratings.wtsPerc}%</div>\n                        </div>\n                        <div className=\"flex-evenly\">\n                            <div className=\"vote-count\">{movie.ratings.wtsCount} votes</div>\n                        </div>\n                    </div>\n                </div>\n\n                <div key={movie.EventCode} className=\"movie-name\">\n                    {movie.EventTitle}\n                </div>\n            </div>;\n    //#endregion\n}"],"sourceRoot":""}